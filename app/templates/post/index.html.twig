{% extends 'base.html.twig' %}

{% block title %}
    {{ 'Post list'|trans }}
{% endblock %}

{% block body %}
<div class="post_container container">
    <h1>{{ 'Post list'|trans }}</h1>
{% if pagination is defined and pagination.items|length %}

<div class="navigation text-center">
    {{ knp_pagination_render(pagination) }}
</div>

<table class="table table-striped">
    <thead>
    <tr>

        <th>{{ knp_pagination_sortable(pagination, 'Date'|trans, 'post.date') }}</th>
        <th>{{ knp_pagination_sortable(pagination, 'Name'|trans, 'post.name') }}</th>
        <th>{{ knp_pagination_sortable(pagination, 'Text'|trans, 'post.text') }}</th>
        <th>{{ 'Category'|trans }}</th>
        <th>{{ 'Actions'|trans }}</th>

    </tr>
    </thead>
    <tbody>
    {% for post in pagination.items %}
        <tr>

            <td>{{ post.date|format_date('long') }}</td>
            <td>{{ post.name }}</td>
            <td>{{ post.text }}</td>
            <td>
                <a href="{{ url('category_show', {id: post.category.id}) }}"  title="{{ 'view category'|trans }}">
                    {{ post.category.name }}
                </a>
            </td>
            <td>
                <a href="{{ url('post_show', {id: post.id}) }}"> <i class="fa fa-eye"></i>

                </a>
            </td>
            <td>
                <a href="{{ url('post_create', {id: post.id}) }}"> <i class="fa fa-plus"></i>
                </a>
            </td>
            <td>
                <a href="{{ url('post_edit', {id: post.id}) }}"> <i class="fa fa-pencil-square-o"></i>
                </a>
            </td>
            <td>
                <a href="{{ url('post_delete', {id: post.id}) }}"> <i class="fa fa-trash-o" > </i>
                </a>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>

    <div class="navigation text-center">
        {{ knp_pagination_render(pagination) }}
    </div>

{% else %}
    <p>
        {% include 'default/_single_flash_message.html.twig' with {
            type: 'warning',
            message: 'message.empty_list'|trans
        } %}
    </p>
{% endif %}
</div>
{% endblock %}


