{% extends 'base.html.twig' %}

{% block title %}
    {{ 'Post list'|trans }}
{% endblock %}

{% block body %}
    <h1>{{ 'Post list'|trans }}</h1>
{% if pagination is defined and pagination.items|length %}

<div class="navigation text-center">
    {{ knp_pagination_render(pagination) }}
</div>

<table class="table table-striped">
    <thead>
    <tr>
        <th>{{ knp_pagination_sortable(pagination, 'ID'|trans, 'post.id') }}</th>
        <th>{{ knp_pagination_sortable(pagination, 'Date'|trans, 'post.date') }}</th>
        <th>{{ knp_pagination_sortable(pagination, 'Name'|trans, 'post.name') }}</th>
        <th>{{ knp_pagination_sortable(pagination, 'Text'|trans, 'post.text') }}</th>
        <th>{{ 'Category'|trans }}</th>
        <th>{{ 'Actions'|trans }}</th>

    </tr>
    </thead>
    <tbody>
    {% for post in pagination.items %}
        <tr>
            <td>{{ post.id }}</td>
            <td>{{ post.date|format_date('long') }}</td>
            <td>{{ post.name }}</td>
            <td>{{ post.text }}</td>
            <td>
                <a href="{{ url('category_show', {id: post.category.id}) }}" title="{{ 'view category'|trans }}">
                    {{ post.category.name }}
                </a>
            </td>
            <td>
                <a href="{{ url('post_show', {id: post.id}) }}" title="{{ 'view'|trans }}">
                    {{ 'view'|trans }}
                </a>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>

    <div class="navigation text-center">
        {{ knp_pagination_render(pagination) }}
    </div>

{% else %}
    <p>
        {{ 'Empty list'|trans }}
    </p>
{% endif %}
{% endblock %}


